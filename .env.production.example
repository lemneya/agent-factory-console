# ============================================================================
# PRODUCTION ENVIRONMENT TEMPLATE
# ============================================================================
# SECURITY: Never commit actual values. Use secrets management in production.
# Copy this file to .env.production and fill in actual values.
# ============================================================================

# ============================================================================
# DATABASE (Required)
# ============================================================================
# For Docker Compose (with included db service):
# DATABASE_URL="postgresql://postgres:password@db:5432/agent_factory"
#
# For external managed PostgreSQL (AWS RDS, Cloud SQL, etc.):
# DATABASE_URL="postgresql://user:password@host:5432/agent_factory?sslmode=require"
#
# IMPORTANT: Use 'db' as the host when using Docker Compose (not 'localhost')
DATABASE_URL="postgresql://user:password@db:5432/agent_factory"

# ============================================================================
# AUTHENTICATION (Required)
# ============================================================================
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="<generate-with-openssl-rand-base64-32>"

# Production URL (your deployed domain)
NEXTAUTH_URL="https://your-production-domain.com"

# ============================================================================
# GITHUB OAUTH (Required)
# ============================================================================
# Create a production GitHub OAuth App at: https://github.com/settings/developers
# Set callback URL to: https://your-production-domain.com/api/auth/callback/github
GITHUB_CLIENT_ID="<your-production-github-client-id>"
GITHUB_CLIENT_SECRET="<your-production-github-client-secret>"

# Webhook secret for GitHub webhooks
# Generate with: openssl rand -hex 20
GITHUB_WEBHOOK_SECRET="<your-webhook-secret>"

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV="production"
PORT=3000

# Preview panel URL (same as NEXTAUTH_URL in production)
NEXT_PUBLIC_PREVIEW_URL="https://your-production-domain.com"

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# CRITICAL: This MUST be "false" or unset in production
# Setting to "true" bypasses ALL authentication checks
NEXT_PUBLIC_DEV_AUTH_BYPASS="false"

# ============================================================================
# TERMINAL GATEWAY (Optional - AFC-1.5)
# ============================================================================
# Enable only if terminal access is needed
TERMINAL_ENABLED="false"
TERMINAL_GATEWAY_PORT=7681
# Generate a strong token: openssl rand -hex 32
GATEWAY_AUTH_TOKEN="<generate-strong-token>"

# ============================================================================
# RUNNER SETTINGS (Optional)
# ============================================================================
# Set to "1" for CI determinism (dry run mode)
# RUNNER_DRY_RUN="0"

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL="info"

# ============================================================================
# OPTIONAL: EXTERNAL SERVICES
# ============================================================================
# Add any external service URLs/keys here
# REDIS_URL="redis://..."
# OPENAI_API_KEY="..."

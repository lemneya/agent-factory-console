# AFC-1.5 Terminal Session Creation Evidence
# Shows that sessions are created in READ_ONLY mode by default

## Session Creation Flow

1. User clicks "Spawn Terminal Session" button
2. createTerminalSession() called with:
   - projectId
   - runId
   - workerId
   - name (e.g., "Orchestrator", "Backend Pod")
   - userId (current user)

3. Session created with:
   - mode: "READ_ONLY" (HARD CONSTRAINT - ALWAYS READ_ONLY by default)
   - status: "ACTIVE"
   - CONNECT event logged

## Example Session Object

```typescript
const session: TerminalSession = {
  id: "term-1736683200000",
  projectId: "proj-1",
  runId: "run-1",
  workerId: "worker-orchestrator-1",
  name: "Orchestrator",
  mode: "READ_ONLY",  // CRITICAL: Always READ_ONLY by default
  status: "ACTIVE",
  createdByUserId: "user-1",
  createdAt: "2024-01-12T12:00:00.000Z",
  updatedAt: "2024-01-12T12:00:00.000Z"
};
```

## Test Evidence

From unit tests:
```typescript
it('should create a session with READ_ONLY mode by default', async () => {
  const session = await createTerminalSession(
    'proj-1',
    'run-1',
    'worker-1',
    'Test Session',
    'user-1'
  );

  expect(session.mode).toBe('READ_ONLY'); // VERIFIED
});
```

## Security Constraint Verification

Test: "should always create sessions in READ_ONLY mode"
```typescript
// Create multiple sessions
const sessions = await Promise.all([
  createTerminalSession('proj-1', 'run-1', 'worker-1', 'Session 1', 'user-1'),
  createTerminalSession('proj-2', 'run-2', 'worker-2', 'Session 2', 'user-2'),
  createTerminalSession('proj-3', 'run-3', 'worker-3', 'Session 3', 'user-3'),
]);

// ALL sessions must be READ_ONLY by default
expect(sessions.every(s => s.mode === 'READ_ONLY')).toBe(true); // VERIFIED
```

All 12 tests passed confirming this behavior.
